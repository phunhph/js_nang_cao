<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Lab</title>
  </head>
  <body>
    <!-- LAB 2.4: Container cho header -->
    <h1>This is the header</h1>

    <!-- ƒê·∫∑t ID cho m·ªói LAB ƒë·ªÉ d·ªÖ d√†ng test -->
    <div id="lab2-1"></div>
    <div id="lab2-2"></div>
    <div id="lab2-3"></div>
    <div id="lab2-4"></div>

    <script>
      // LAB 2.1: ƒê·∫∑t ƒëo·∫°n m√£ ·ªü ƒë√¢y
      const events = [
        [17, "‚öΩ GOAL"],
        [32, "üîÅ Substitution"],
        [45, "üü• Red Card"],

        [64, "üü° Yellow Card"],
      ];

      // B∆∞·ªõc 2: X√≥a th·∫ª v√†ng ph√∫t 64
      const indexOfYellowCard = events.findIndex((event) => event[0] === 64);
      if (indexOfYellowCard !== -1) {
        events.splice(indexOfYellowCard, 1);
      }

      // B∆∞·ªõc 3: In ra console theo ƒë·ªãnh d·∫°ng
      console.log(
        `1 s·ª± ki·ªán x·∫£y ra, trung b√¨nh m·ªói ${90 / events.length} ph√∫t`
      );

      // B∆∞·ªõc 4: In ra m√†n h√¨nh v·ªõi ƒë√°nh d·∫•u cho t·ª´ng s·ª± ki·ªán
      for (const event of events) {
        const half = event[0] <= 45 ? "FIRST HALF" : "SECOND HALF";
        console.log(`[${half}] ${event[0]}: ${event[1]}`);
      }

      // LAB 2.2: ƒê·∫∑t ƒëo·∫°n m√£ ·ªü ƒë√¢y
      function convertToCamelCase(underscoreText) {
        const words = underscoreText.split("_");
        const camelCaseWords = words.map((word, index) =>
          index === 0 ? word : word.charAt(0).toUpperCase() + word.slice(1)
        );
        return camelCaseWords.join("");
      }

      const inputText =
        "underscore_case\nfirst_name\nSome_Variable\ncalculate_AGE\ndelayed_departure";
      const convertedText = inputText.split("\n").map(convertToCamelCase);
      convertedText.forEach((result, index) =>
        console.log(`${result} ${"‚úÖ".repeat(index + 1)}`)
      );

      // LAB 2.3: ƒê·∫∑t ƒëo·∫°n m√£ ·ªü ƒë√¢y
      const flights =
        "_Delayed_Departure;fao93766109;txl2133758440;11:25+_Arrival;bru0943384722;fao93766109;11:45+_Delayed_Arrival;hel7439299980;fao93766109;12:05+_Departure;fao93766109;lis2323639855;12:30";

      const getCode = (str) => str.slice(0, 3).toUpperCase();

      for (const flight of flights.split("+")) {
        const [type, from, to, time] = flight.split(";");
        const output = `${
          type.startsWith("_Delayed") ? "üü°" : ""
        }${type.replaceAll("_", " ")} ${getCode(from)} ${getCode(
          to
        )} (${time.replace(":", "h")})`.padStart(36);
        console.log(output);
      }

      // LAB 2.4: ƒê·∫∑t ƒëo·∫°n m√£ ·ªü ƒë√¢y
      (function () {
        const header = document.querySelector("h1");
        header.style.color = "red";

        document.querySelector("body").addEventListener("click", function () {
          header.style.color = "blue";
        });
      })();
    </script>
  </body>
</html>
